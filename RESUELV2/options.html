<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Zepra Options</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background: #000;
        color: #e2e8f0;
      }

      .page {
        background: var(--card);
        border-radius: 12px;
        box-shadow: 0 0 20px rgba(57,255,20,0.3), 0 0 20px rgba(255,230,0,0.3);
        padding: 22px 18px 16px 18px;
        min-width: 400px;
        max-width: 600px;
        margin: 0 auto;
        border: 2px solid var(--accent);
      }

      h2 {
        text-align: center;
        font-size: 1.8rem;
        font-weight: bold;
        margin-bottom: 24px;
      }

      .group {
        background: linear-gradient(120deg, #120f12 80%, #0a0f17 100%);
        border-radius: 14px;
        box-shadow: 0 2px 12px #0004;
        padding: 16px;
        margin: 20px 0;
        border: 1.5px solid #292d33;
      }

      .subtitle {
        font-size: 1.2em;
        color: var(--accent2);
        font-weight: bold;
        margin-bottom: 16px;
        text-shadow: 0 1px 2px #000;
      }

      label.row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 12px 0;
        gap: 12px;
      }

      label.row > span {
        font-size: 1em;
        color: #e0e0e0;
        font-weight: 500;
        min-width: 140px;
      }

      label.row > input,
      label.row > select {
        flex: 1;
        padding: 8px 12px;
        border-radius: 6px;
        border: 1px solid #334155;
        background: #0b1220;
        color: #e2e8f0;
        font-size: 0.95em;
        transition: border-color 0.2s, box-shadow 0.2s;
      }

      label.row > input:focus,
      label.row > select:focus {
        outline: none;
        border-color: #ffd600;
        box-shadow: 0 0 0 2px rgba(255, 214, 0, 0.2);
      }

      .row.end {
        display: flex;
        justify-content: flex-end;
        gap: 12px;
        margin-top: 24px;
        padding-top: 16px;
        border-top: 1px solid #292d33;
      }

      .btn {
        background: #1f2937;
        color: #e2e8f0;
        border: 1px solid #334155;
        border-radius: 6px;
        padding: 10px 20px;
        cursor: pointer;
        font-size: 0.95em;
        font-weight: 500;
        transition: all 0.2s;
      }

      .btn:hover {
        filter: brightness(1.1);
        transform: translateY(-1px);
      }

      .btn.primary {
        background: #22c55e;
        border-color: #22c55e;
        color: #0b1215;
        font-weight: 600;
      }

      .btn.warn {
        background: #dc2626;
        border-color: #dc2626;
        color: #fff;
        font-weight: 600;
      }

      .status {
        margin: 16px 0;
        padding: 12px;
        border-radius: 6px;
        font-size: 0.9em;
        text-align: center;
        min-height: 20px;
        background: rgba(30, 32, 36, 0.5);
        color: #94a3b8;
        border: 1px solid #292d33;
      }

      .status.error {
        background: rgba(220, 38, 38, 0.1);
        color: #fda4af;
        border-color: #dc2626;
      }

      .status:not(:empty) {
        background: rgba(34, 197, 94, 0.1);
        color: #86efac;
        border-color: #22c55e;
      }

      /* Custom prompts table and buttons */
      #promptTable th,
      #promptTable td {
        border: 1px solid #334155;
        padding: 8px;
        text-align: left;
      }

      #promptTable th {
        background: #1f2937;
        color: #ffd600;
      }

      #promptTable tr:nth-child(even) {
        background: rgba(255, 255, 255, 0.03);
      }

      textarea#promptText {
        background: #0b1220;
        border: 1px solid #334155;
        color: #e2e8f0;
        border-radius: 6px;
        padding: 8px 12px;
        resize: vertical;
      }

      .btn.small {
        padding: 4px 10px;
        font-size: 0.8em;
      }
    </style>
  </head>
  <body class="page">
    <h2 class="zepra-gradient">Zepra Options</h2>

    <div class="group">
      <div class="subtitle">API Keys</div>
      <label class="row">
        <span>Cerebras API Key</span>
        <input id="cerebrasKey" type="password" placeholder="csk-..." />
      </label>
      <label class="row">
        <span>OCR.space API Key</span>
        <input id="ocrKey" type="password" placeholder="(optional)" />
      </label>
      <label class="row">
        <span>ipdata API Key</span>
        <input id="ipdataKey" type="password" placeholder="(optional)" />
        <button id="testIpdata" type="button" class="btn small">Test</button>
      </label>
    </div>

    <div class="group">
      <div class="subtitle">Model & Typing</div>
      <label class="row">
        <span>Cerebras Model</span>
        <select id="cerebrasModel">
          <option value="qwen-3-coder-480b">qwen-3-coder-480b</option>
          <option value="qwen-3-235b-a22b-instruct-2507">qwen-3-235b-a22b-instruct-2507</option>
          <option value="qwen-3-235b-a22b-thinking-2507">qwen-3-235b-a22b-thinking-2507</option>
          <option value="qwen-3-32b">qwen-3-32b</option>
          <option value="llama-3.3-70b">llama-3.3-70b</option>
          <option value="llama-4-maverick-17b-128e-instruct">llama-4-maverick-17b-128e-instruct</option>
          <option value="llama-4-scout-17b-16e-instruct">llama-4-scout-17b-16e-instruct</option>
          <option value="llama3.1-8b">llama3.1-8b</option>
          <option value="gpt-oss-120b" selected>gpt-oss-120b</option>
        </select>
      </label>
      <label class="row">
        <span>Typing Speed</span>
        <select id="typingSpeed">
          <option value="fast">Fast</option>
          <option value="normal" selected>Normal</option>
          <option value="slow">Slow</option>
        </select>
      </label>
    </div>

    <div class="group">
      <div class="subtitle">OCR</div>
      <label class="row">
        <span>Default OCR Language</span>
        <select id="ocrLang">
          <option value="eng" selected>English (eng)</option>
          <option value="ara">Arabic (ara)</option>
        </select>
      </label>
    </div>

    <div class="group">
      <div class="subtitle">Dubbing Settings</div>
      <label class="row">
        <span>iFlytek APPID</span>
        <input id="iflytekAppId" type="text" />
      </label>
      <label class="row">
        <span>iFlytek APIKey</span>
        <input id="iflytekApiKey" type="password" />
      </label>
      <label class="row">
        <span>iFlytek APISecret</span>
        <input id="iflytekApiSecret" type="password" />
      </label>
      <label class="row">
        <span>Default Language</span>
        <select id="dubLang"></select>
      </label>
      <label class="row">
        <span>Voice</span>
        <select id="dubVoice"></select>
      </label>
      <label class="row">
        <span>Dialect</span>
        <select id="dubDialect"></select>
      </label>
      <label class="row">
        <span>Speech Speed</span>
        <input id="dubSpeed" type="range" min="0.5" max="2" step="0.1" />
      </label>
    </div>

    <div class="group">
      <div class="subtitle">Custom Prompts</div>
      <form id="promptForm">
        <label class="row">
          <span>Name</span>
          <input id="promptName" type="text" />
        </label>
        <label class="row">
          <span>Tags</span>
          <input id="promptTags" type="text" placeholder="comma,separated" />
        </label>
        <label class="row">
          <span>Hotkey</span>
          <input id="promptHotkey" type="text" placeholder="Ctrl+Shift+1" />
        </label>
        <label class="row">
          <span>Prompt</span>
          <textarea id="promptText" rows="3"></textarea>
        </label>
        <div class="row end">
          <button id="savePrompt" type="button" class="btn primary">Save</button>
          <button id="cancelPrompt" type="button" class="btn">Cancel</button>
        </div>
      </form>
      <table id="promptTable" style="width:100%; margin-top:10px; border-collapse:collapse;">
        <thead><tr><th>Name</th><th>Tags</th><th>Hotkey</th><th>Actions</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="group">
      <div class="subtitle">Custom Sites</div>
      <form id="siteForm">
        <label class="row">
          <span>Name</span>
          <input id="siteName" type="text" />
        </label>
        <label class="row">
          <span>URL</span>
          <input id="siteUrl" type="url" placeholder="https://example.com/" />
        </label>
        <div class="row end">
          <button id="addSite" type="button" class="btn primary">Add</button>
        </div>
      </form>
      <ul id="sitesList" style="list-style:none; padding-left:0; margin-top:10px;"></ul>
    </div>

    <div class="group">
      <div class="subtitle">Custom Window Size</div>
      <label class="row">
        <span>Width</span>
        <input id="webWidth" type="number" min="400" />
      </label>
      <label class="row">
        <span>Height</span>
        <input id="webHeight" type="number" min="300" />
      </label>
    </div>

    <div class="row end">
      <button id="test" class="btn">Test API</button>
      <button id="save" class="btn primary">Save</button>
      <button id="clear" class="btn warn">Clear All</button>
    </div>

    <div id="status" class="status"></div>

    <script src="options.js" type="module"></script>
  </body>
</html>
